<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_144) on Sun Dec 10 04:45:12 CET 2017 -->
<title>AuthenticationController</title>
<meta name="date" content="2017-12-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AuthenticationController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AuthenticationController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../fr/amu/directorymanage/controller/BirthdayEditor.html" title="class in fr.amu.directorymanage.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/amu/directorymanage/controller/AuthenticationController.html" target="_top">Frames</a></li>
<li><a href="AuthenticationController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.amu.directorymanage.controller</div>
<h2 title="Class AuthenticationController" class="title">Class AuthenticationController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>fr.amu.directorymanage.controller.AuthenticationController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Controller
 @RequestMapping(value="")
public class <span class="typeNameLabel">AuthenticationController</span>
extends java.lang.Object</pre>
<div class="block">Classe controller pour les mecanismes de l'authentification
 et recuperation de mot de passe et la page d'accueil</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Houssem Mjid, Mohamad Abdelnabi</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#AuthenticationController--">AuthenticationController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#accesssDenied--">accesssDenied</a></span>()</code>
<div class="block">la methode qui fait le mapping vers la page 403,
 reponse a la methode GET http, les demandes sont renvoye vers cette page
 si un acces a un contenu interdit par une personne est survenu
 verifie si la personne est authentifie et il n'est pas anonymous pour
 afficher son nom d'utilisateur (son mail), si c'est pas le cas la page
 est renvoye normalement</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#adminPage--">adminPage</a></span>()</code>
<div class="block">la methode qui fait le mapping vers la page admin
 NOTE: not implemented yet!</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#defaultPage--">defaultPage</a></span>()</code>
<div class="block">la methode qui fait le mapping vers la page d'accueil</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#loginPage-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">loginPage</a></span>(java.lang.String&nbsp;error,
         java.lang.String&nbsp;logout,
         javax.servlet.http.HttpServletRequest&nbsp;request,
         javax.servlet.http.HttpServletResponse&nbsp;response)</code>
<div class="block">la methode qui fait le mapping vers la page login</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#newPassword-java.lang.Long-java.lang.String-">newPassword</a></span>(java.lang.Long&nbsp;personId,
           java.lang.String&nbsp;token)</code>
<div class="block">la methode qui fait le mapping vers la page newpassword
 reponse a la methode GET http, verifie si le token est correct
 et si il est pas expire, si tout est ok, la personne aura acces
 aux formulaire de reinitialisation de mot de passe ou une redirection
 a une page d'erreur est faite sinon</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#newPasswordPost-java.lang.String-java.lang.String-java.lang.Long-">newPasswordPost</a></span>(java.lang.String&nbsp;password1,
               java.lang.String&nbsp;password2,
               java.lang.Long&nbsp;personId)</code>
<div class="block">la methode qui fait le mapping vers la page newpassword
 reponse a la methode POST http, verifie si les deux mot de passe
 tape par la personne sont bien identiques si c'est bon, le mot de passe
 est mis a jour dans la base et un lien de login est renvoye,
  un message d'erreur est renvoye sinon</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#recoverPage--">recoverPage</a></span>()</code>
<div class="block">la methode qui fait le mapping vers la page recover
 qui sert a la recuperation du mot de passe reponse a la methode GET http</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../fr/amu/directorymanage/controller/AuthenticationController.html#resetRequest-java.lang.String-">resetRequest</a></span>(java.lang.String&nbsp;personEmail)</code>
<div class="block">la methode qui fait le mapping vers la page recover
 repondant a la methode POST http, recupere le mail tape par la personne
 recupere la personne de la base de donnees via son email,genere le token
 cree l'objet PasswordResetToken correspondant,
 stocke ce dernier dans la base de donnees,
 appel le service mail pour l'envoi du mail de recuperation
 renvoi un message de succes a la vue si tout est bien passe
 ou un message d'echec si le mail n'est pas reconnu</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AuthenticationController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AuthenticationController</h4>
<pre>public&nbsp;AuthenticationController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="defaultPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultPage</h4>
<pre>@RequestMapping(value="/",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;defaultPage()</pre>
<div class="block">la methode qui fait le mapping vers la page d'accueil</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page index</dd>
</dl>
</li>
</ul>
<a name="adminPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adminPage</h4>
<pre>@RequestMapping(value="/admin**",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;adminPage()</pre>
<div class="block">la methode qui fait le mapping vers la page admin
 NOTE: not implemented yet!</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page admin</dd>
</dl>
</li>
</ul>
<a name="loginPage-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginPage</h4>
<pre>@RequestMapping(value="/login",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;loginPage(@RequestParam(value="error",required=false)
                                                                                                                          java.lang.String&nbsp;error,
                                                                                                                          @RequestParam(value="logout",required=false)
                                                                                                                          java.lang.String&nbsp;logout,
                                                                                                                          javax.servlet.http.HttpServletRequest&nbsp;request,
                                                                                                                          javax.servlet.http.HttpServletResponse&nbsp;response)</pre>
<div class="block">la methode qui fait le mapping vers la page login</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - chaine de caractere a recevoir si une erreur est produite
 qui sert a renvoyer un message d'erreur a la vue</dd>
<dd><code>logout</code> - chaine de caractere a recevoir si la personne
 s'est deconnecte qui sert a deconnecter la personne</dd>
<dd><code>request</code> - HttpServletRequest pour decrire la requete http</dd>
<dd><code>response</code> - HttpServletResponse pour decrire la reponse http</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page login avec 
 comme parametre soit logout soit error</dd>
</dl>
</li>
</ul>
<a name="recoverPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverPage</h4>
<pre>@RequestMapping(value="/recover",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;recoverPage()</pre>
<div class="block">la methode qui fait le mapping vers la page recover
 qui sert a la recuperation du mot de passe reponse a la methode GET http</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page recover</dd>
</dl>
</li>
</ul>
<a name="resetRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetRequest</h4>
<pre>@RequestMapping(value="/recover",
                method=POST)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;resetRequest(@RequestParam(value="email")
                                                                                                                                java.lang.String&nbsp;personEmail)</pre>
<div class="block">la methode qui fait le mapping vers la page recover
 repondant a la methode POST http, recupere le mail tape par la personne
 recupere la personne de la base de donnees via son email,genere le token
 cree l'objet PasswordResetToken correspondant,
 stocke ce dernier dans la base de donnees,
 appel le service mail pour l'envoi du mail de recuperation
 renvoi un message de succes a la vue si tout est bien passe
 ou un message d'echec si le mail n'est pas reconnu</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>personEmail</code> - chaine de caractere contenant le mail</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page recover</dd>
</dl>
</li>
</ul>
<a name="newPassword-java.lang.Long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPassword</h4>
<pre>@RequestMapping(value="/newpassword",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;newPassword(@RequestParam(value="personId")
                                                                                                                                  java.lang.Long&nbsp;personId,
                                                                                                                                  @RequestParam(value="token")
                                                                                                                                  java.lang.String&nbsp;token)</pre>
<div class="block">la methode qui fait le mapping vers la page newpassword
 reponse a la methode GET http, verifie si le token est correct
 et si il est pas expire, si tout est ok, la personne aura acces
 aux formulaire de reinitialisation de mot de passe ou une redirection
 a une page d'erreur est faite sinon</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>personId</code> - Long indiquant l'identifiant de la personne</dd>
<dd><code>token</code> - String contenant le token de la personne</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page recover</dd>
</dl>
</li>
</ul>
<a name="newPasswordPost-java.lang.String-java.lang.String-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPasswordPost</h4>
<pre>@RequestMapping(value="/newpassword",
                method=POST)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;newPasswordPost(@RequestParam(value="password1")
                                                                                                                                       java.lang.String&nbsp;password1,
                                                                                                                                       @RequestParam(value="password2")
                                                                                                                                       java.lang.String&nbsp;password2,
                                                                                                                                       @RequestParam(value="personId")
                                                                                                                                       java.lang.Long&nbsp;personId)</pre>
<div class="block">la methode qui fait le mapping vers la page newpassword
 reponse a la methode POST http, verifie si les deux mot de passe
 tape par la personne sont bien identiques si c'est bon, le mot de passe
 est mis a jour dans la base et un lien de login est renvoye,
  un message d'erreur est renvoye sinon</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>password1</code> - le premier mot de passe tape</dd>
<dd><code>password2</code> - le deuxieme mot de passe tape</dd>
<dd><code>personId</code> - Long identifiant de la personne</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page newpassord</dd>
</dl>
</li>
</ul>
<a name="accesssDenied--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>accesssDenied</h4>
<pre>@RequestMapping(value="/errors/403",
                method=GET)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;accesssDenied()</pre>
<div class="block">la methode qui fait le mapping vers la page 403,
 reponse a la methode GET http, les demandes sont renvoye vers cette page
 si un acces a un contenu interdit par une personne est survenu
 verifie si la personne est authentifie et il n'est pas anonymous pour
 afficher son nom d'utilisateur (son mail), si c'est pas le cas la page
 est renvoye normalement</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>objet de type ModelAndView, qui contient la page 403</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AuthenticationController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../fr/amu/directorymanage/controller/BirthdayEditor.html" title="class in fr.amu.directorymanage.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/amu/directorymanage/controller/AuthenticationController.html" target="_top">Frames</a></li>
<li><a href="AuthenticationController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
